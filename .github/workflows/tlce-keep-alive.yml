name: Scheduled Keep-Alive Ping
on:
  schedule:
    - cron: '*/12 * * * *'
  workflow_dispatch:
jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Send Request
        env:
          TRANSLX_URL: ${{ secrets.TRANSLX_URL }}
        run: |
          if [ -z "$TRANSLX_URL" ]; then
            echo "‚ùå ERROR: Secret 'TRANSLX_URL' is not set"
            exit 1
          fi
          
          echo "üîÑ Pinging URL..."
          curl -I -L -v -H "User-Agent: GitHubAction-KeepAlive" "$TRANSLX_URL" 2>&1 || {
            echo ""
            echo "‚ùå Curl failed. Retrying with --insecure..."
            curl -I -L --insecure -H "User-Agent: GitHubAction-KeepAlive" "$TRANSLX_URL"
          }
          echo "‚úÖ Ping successful"
